{% extends 'base.html' %}
{% load static %}

{% block content %}
<div class="max-w-5xl mx-auto mt-10 px-6 py-8 bg-white rounded-2xl shadow-md">
  <!-- Breadcrumb -->
  <nav class="text-sm mb-4 text-gray-500">
    <a href="{% url 'artikel:show_artikel' %}" class="hover:text-green-600">← Kembali ke Artikel</a>
  </nav>

  <!-- Judul Artikel -->
  <h1 class="text-3xl font-extrabold text-gray-900 mb-3 leading-tight">
    {{ artikel.title }}
  </h1>

  <!-- Meta Info -->
  <div class="flex flex-wrap items-center text-sm text-gray-500 mb-6">
    <span class="mr-4">📅 {{ artikel.created_at|date:"d M Y" }}</span>
    <span class="mr-4">✍️ {{ artikel.user.username|default:"Anonim" }}</span>
    <span>👁️ {{ artikel.views|default:0 }} kali dibaca</span>
  </div>

  <!-- Gambar Utama -->
  {% if artikel.image %}
  <div class="mb-6">
    <img src="{{ artikel.image.url }}" alt="{{ artikel.title }}"
      class="w-full h-96 object-cover rounded-lg shadow">
  </div>
  {% endif %}

  <!-- Isi Artikel -->
  <article class="prose prose-lg max-w-none text-gray-800 leading-relaxed">
    {{ artikel.description|linebreaks }}
  </article>

  <!-- Garis Pemisah -->
  <hr class="my-10 border-gray-200">

  <!-- Bagian Navigasi Bawah -->
  <div class="flex justify-between items-center text-sm text-gray-600">
    <div class="flex space-x-3">
      {% if user.is_staff %}
      <!-- Tombol hanya untuk admin -->
      <a href="{% url 'artikel:edit_artikel' artikel.id %}"
        class="px-4 py-2 bg-yellow-400 text-white font-semibold rounded-lg hover:bg-yellow-500 transition">
        ✏️ Edit Artikel
      </a>

      <form method="POST" action="{% url 'artikel:delete_artikel' artikel.id %}"
        onsubmit="return confirm('Apakah kamu yakin ingin menghapus artikel ini?');">
        {% csrf_token %}
        <button type="submit"
          class="px-4 py-2 bg-red-500 text-white font-semibold rounded-lg hover:bg-red-600 transition">
          🗑️ Hapus Artikel
        </button>
      </form>
      {% endif %}
    </div>

    <a href="{% url 'artikel:show_artikel' %}" class="text-green-600 font-medium hover:underline">
      ← Kembali ke daftar artikel
    </a>
  </div>
</div>

<!-- Footer -->
<footer class="mt-16 text-center text-gray-500 text-sm">
  <p>© 2025 GunDex — Platform Pendakian Indonesia</p>
</footer>

{% endblock %}
